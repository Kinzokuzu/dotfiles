local options = {
    -- Basic settings
	number = true,
	relativenumber = true,
	cursorline = true,
    colorcolumn = '88',
	wrap = false,
	-- Indentation
	tabstop = 4,
	shiftwidth = 4,
	softtabstop = 4,
	expandtab = true,
	smartindent = true,
	autoindent = true,
    -- Search settings
    ignorecase = true,
    smartcase = true,
    -- Visual settings
	termguicolors = true,
	showmode = false,
	signcolumn = 'yes',
    -- File handling
    backup = false,
    swapfile = false,
    undofile = true,
    undodir = vim.fn.expand('~/.vim/undodir'),
    autoread = true,
    -- Other
    mouse = 'a',
    clipboard = 'unnamedplus',
    pumheight = 10,
    splitbelow = true,
    splitright = true
}

for k, v in pairs(options) do
	vim.opt[k] = v
end

vim.pack.add({
    { src = 'https://github.com/nvim-treesitter/nvim-treesitter' },
	{ src = 'https://github.com/neovim/nvim-lspconfig' },
    { src = 'https://github.com/joshdick/onedark.vim' },
})

-- local lspconfig = require('lspconfig')
-- lspconfig.lua_ls.setup{}
-- lspconfig.bashls.setup{}
-- lspconfig.ts_ls.setup{}
-- lspconfig.pyright.setup{}

vim.cmd('colorscheme onedark')

vim.g.mapleader = ' '
vim.g.maplocalleader = ' '

vim.keymap.set('n', '<leader>e', ':Explore<CR>', { desc = 'Open file explorer' })
vim.keymap.set('n', '<leader>ff', ':find ', { desc = 'Find file' })

local augroup = vim.api.nvim_create_augroup('UserConfig', {})

vim.api.nvim_create_autocmd('FileType', {
    group = augroup,
    pattern = {'html'},
    callback = function()
        vim.opt_local.tabstop = 2
        vim.opt_local_shiftwidth = 2
    end,
})

-- Create undo directory if it doesn't exist
local undodir = vim.fn.expand('~/.vim/undodir')
if vim.fn.isdirectory(undodir) == 0 then
    vim.fn.mkdir(undodir, 'p')
end
